(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{10:function(e,t,i){e.exports={movieInfoBlock:"MovieInfo_movieInfoBlock__hOYag",movieInfoWrapper:"MovieInfo_movieInfoWrapper__3mL3z",inlineDiv:"MovieInfo_inlineDiv__Ghn_H",movieInfo:"MovieInfo_movieInfo__-MMmm",moviePictureWrapper:"MovieInfo_moviePictureWrapper__3OdZl",moviePicture:"MovieInfo_moviePicture__1cu_K",movieTitle:"MovieInfo_movieTitle__fh9Dw",movieTagline:"MovieInfo_movieTagline__2VFen",movieInfoPart:"MovieInfo_movieInfoPart__ZgQGx",moviePlot:"MovieInfo_moviePlot__2wk5y",movieRating:"MovieInfo_movieRating__1lA_Q",editFormButtonWrapper:"MovieInfo_editFormButtonWrapper__2DNkQ"}},131:function(e,t,i){e.exports={preloader:"Preloader_preloader__1tuOf"}},170:function(e,t,i){},21:function(e,t,i){e.exports={movieBlock:"SearchMovie_movieBlock__1yd-Y",inlineDiv:"SearchMovie_inlineDiv__3RFxg",movieInfo:"SearchMovie_movieInfo__28n89",moviePictureWrapper:"SearchMovie_moviePictureWrapper__2dIMz",moviePicture:"SearchMovie_moviePicture__30Zpk",movieInfoPart:"SearchMovie_movieInfoPart__15AhB",movieTitle:"SearchMovie_movieTitle__1Hriv",button:"SearchMovie_button__2wMFw"}},291:function(e,t,i){"use strict";i.r(t);var n=i(1),o=i(0),r=i.n(o),c=i(30),a=i.n(c),s=(i(170),i(71)),l=i.n(s),v=i(18),j=i(45),d=i.n(j),m=function(){return Object(n.jsx)("nav",{className:d.a.navbarBox,children:Object(n.jsx)("div",{className:d.a.navbarMenu,children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsxs)(v.b,{to:"/movies",activeClassName:d.a.activeLink,children:["Movies \xa0",Object(n.jsx)("svg",{width:"17",height:"13",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M3.76 6H18V14H2V2.47L3.76 6ZM20 0H16L18 4H15L13 0H11L13 4H10L8 0H6L8 4H5L3 0H2C0.9 0 0 0.9 0 2V14C0 15.1 0.9 16 2 16H18C19.1 16 20 15.1 20 14V0Z",fill:"black"})})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(v.b,{to:"/top",activeClassName:d.a.activeLink,children:["Top \xa0",Object(n.jsx)("svg",{width:"20",height:"13",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M7.99 7L7.05 9.06L4.99 10L7.05 10.94L7.99 13L8.93 10.94L10.99 10L8.93 9.06L7.99 7ZM16 0L18 4H15L13 0H11L13 4H10L8 0H6L8 4H5L3 0H2C0.9 0 0.00999999 0.9 0.00999999 2L0 14C0 15.1 0.9 16 2 16H18C19.1 16 19.99 15.1 19.99 14V0H16ZM18 14H2V2.47L3.76 6H13.99L13.36 7.37L11.99 8L13.36 8.63L13.99 10L14.62 8.63L15.99 8L14.62 7.37L13.99 6H18V14Z",fill:"black"})})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(v.b,{to:"/about",activeClassName:d.a.activeLink,children:["About \xa0",Object(n.jsx)("svg",{width:"18",height:"14",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M8 14H10V8H8V14ZM9 4C8.5 4 8 4.5 8 5C8 5.5 8.5 6 9 6C9.5 6 10 5.5 10 5C10 4.5 9.5 4 9 4ZM9 0C4 0 0 4 0 9C0 14 4 18 9 18C14 18 18 14 18 9C18 4 14 0 9 0ZM9 16C5.1 16 2 12.9 2 9C2 5.1 5.1 2 9 2C12.9 2 16 5.1 16 9C16 12.9 12.9 16 9 16Z",fill:"black"})})]})})]})})})},u=i(11),b=i(91),h=i.n(b),O=function(e){return Object(n.jsx)("div",{className:h.a.logoBox,children:Object(n.jsx)("h3",{className:h.a.logo,children:"Movie"})})},f=i(38),p=i(39),x=i(44),_=i(43),g=i(19),I=i(70),M=i(21),N=i.n(M),C=function(e){var t=e.movie;return Object(n.jsx)("div",{className:N.a.movieBlock,children:Object(n.jsx)(v.b,{to:"/movieinfo/"+t.movieId,children:Object(n.jsxs)("div",{className:N.a.moviePictureWrapper,children:[Object(n.jsx)("div",{className:N.a.inlineDiv,children:Object(n.jsx)("img",{className:N.a.moviePicture,src:t.poster,alt:""})}),Object(n.jsxs)("div",{className:N.a.inlineDiv+" "+N.a.movieInfo,children:[Object(n.jsx)("h3",{className:N.a.movieTitle,children:t.title}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:N.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Director:"})," ",t.director]}),Object(n.jsxs)("div",{className:N.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Year:"})," ",t.released.substr(0,4)]}),Object(n.jsxs)("div",{className:N.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Country:"})," ",t.country]}),Object(n.jsxs)("div",{className:N.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Rating:"})," ",t.rating," \u2606"]})]})]})})},t.movieId)},L=i(93),w=i.n(L),P=i.p+"static/media/preloader.1fa6880e.svg",k=i(131),y=i.n(k),F=function(e){return Object(n.jsx)("div",{className:y.a.preloader,children:Object(n.jsx)("img",{src:P})})},B=function(e){var t=e.movies,i=Object(o.useState)(""),r=Object(I.a)(i,2),c=r[0],a=r[1];return t?Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:w.a.searchInput,type:"text",placeholder:"Search...",onChange:function(e){a(e.target.value)}}),Object(n.jsx)("hr",{className:w.a.searchLine}),t.filter((function(e){return""===c||e.title.toLowerCase().includes(c.toLowerCase())?e:void 0})).map((function(e){return Object(n.jsx)(C,{movie:e},e.id)}))]}):Object(n.jsx)(F,{})},H=i(8),T=i(32),S=i.n(T),D=i(54),W=i(13),R=i(132).create({baseURL:"http://localhost:3000"}),A=function(){return R.get("/films").then((function(e){return e.data}))},E=function(e){return R.get("films/".concat(e))},V=function(e){return R.put("movieinfo",e)},Z="SET_MOVIES",G={movies:[]},z=function(){return function(){var e=Object(D.a)(S.a.mark((function e(t){var i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:i=e.sent,t({type:Z,movies:i}),console.log(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(W.a)(Object(W.a)({},e),{},{movies:t.movies});default:return e}},U=function(e){Object(x.a)(i,e);var t=Object(_.a)(i);function i(){return Object(f.a)(this,i),t.apply(this,arguments)}return Object(p.a)(i,[{key:"componentDidMount",value:function(){this.props.requestMovies()}},{key:"render",value:function(){return Object(n.jsx)(B,{movies:this.props.movies})}}]),i}(r.a.Component),Q=Object(H.d)(Object(g.b)((function(e){return{movies:e.moviesPage.movies}}),{requestMovies:z}),u.g)(U),Y=i(10),X=i.n(Y),J=i(304),K=i(97),$=i(127),ee=i(9),te=i.n(ee),ie=function(e){e.input;var t=e.meta,i=t.touched,o=t.error,r=e.children,c=i&&o;return Object(n.jsxs)("div",{className:te.a.formControl+" "+(c?te.a.error:""),children:[Object(n.jsx)("div",{children:r}),c&&Object(n.jsx)("span",{children:o})]})},ne=function(e){var t=e.input,i=(e.meta,e.child,Object(K.a)(e,["input","meta","child"]));return Object(n.jsx)(ie,Object(W.a)(Object(W.a)({},e),{},{children:Object(n.jsx)("textarea",Object(W.a)(Object(W.a)({className:te.a.textarea+" "+te.a.fieldStyle},t),i))}))},oe=function(e){var t=e.input,i=(e.meta,e.child,Object(K.a)(e,["input","meta","child"]));return Object(n.jsx)(ie,Object(W.a)(Object(W.a)({},e),{},{children:Object(n.jsx)("input",Object(W.a)(Object(W.a)({className:te.a.input+" "+te.a.fieldStyle},t),i))}))},re=function(e,t,i,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(n.jsxs)("div",{children:[Object(n.jsx)($.a,Object(W.a)({placeholder:e,name:t,component:o,validate:i},r))," ",c]})},ce=i(128),ae=Object(ce.a)({form:"edit-movie-info"})((function(e){var t=e.handleSubmit,i=e.movieInfo,o=e.error;return Object(n.jsx)("div",{className:te.a.formWrapper,children:Object(n.jsxs)("form",{onSubmit:t,children:[o&&Object(n.jsx)("div",{children:o}),Object(n.jsxs)("div",{className:te.a.formMovieInfoBlock,children:[Object(n.jsx)("img",{className:te.a.formMoviePicture,src:null===i||void 0===i?void 0:i.poster,alt:null===i||void 0===i?void 0:i.title}),Object(n.jsxs)("div",{className:te.a.rightFormBlock,children:[Object(n.jsxs)("div",{children:["Title",re("Title","title",[],oe)]}),Object(n.jsxs)("div",{children:["Tagline",re("Tagline","tagline",[],ne)]}),Object(n.jsxs)("div",{children:["Director",re("Director","director",[],oe)]}),Object(n.jsxs)("div",{children:["Release date",re("","releaseDate",[],oe,{type:"date"})]})]}),Object(n.jsxs)("div",{className:te.a.secondFormBlock,children:[Object(n.jsxs)("div",{children:["Runtime (min)",re("Runtime (min)","runtime",[],oe,{type:"number"})]}),Object(n.jsxs)("div",{className:te.a.formPartMargin,children:["Genre",re("Genre","genre",[],oe)]})]}),Object(n.jsxs)("div",{className:te.a.thirdFormBlock,children:[Object(n.jsxs)("div",{className:te.a.countryLanguage,children:[Object(n.jsxs)("div",{children:["Country",re("Country","country",[],oe)]}),Object(n.jsxs)("div",{className:te.a.formPartMargin,children:["Language",re("Language","language",[],oe)]})]}),Object(n.jsxs)("div",{className:te.a.plotAwards,children:[Object(n.jsxs)("div",{className:te.a.plot,children:["Plot",re("Plot","plot",[],ne)]}),Object(n.jsxs)("div",{className:te.a.formPartMargin,children:["Awards",re("Awards","awards",[],ne)]})]}),Object(n.jsx)("strong",{children:"Actors"}),Object(n.jsx)("div",{className:te.a.actors,children:Object.keys(i.actors).map((function(e){return Object(n.jsxs)("div",{children:[(e[0].toUpperCase()+e.substring(1)).replace("r","r "),re(e,"actors."+e,[],oe)]},e)}))}),Object(n.jsxs)("div",{children:["Rating",re("Rating","rating",[],oe)]}),Object(n.jsx)("div",{className:te.a.buttonWrapper,children:Object(n.jsx)(J.a,{variant:"contained",onClick:function(){},children:"Save"})})]})]})]})})})),se=function(e){var t=e.movieInfo,i=e.goToEditMode;return Object(n.jsxs)("div",{className:X.a.movieInfoWrapper,children:[Object(n.jsxs)("div",{className:X.a.movieInfoBlock,children:[Object(n.jsxs)("div",{className:X.a.moviePictureWrapper,children:[Object(n.jsx)("div",{className:X.a.inlineDiv,children:Object(n.jsx)("img",{className:X.a.moviePicture,src:null===t||void 0===t?void 0:t.poster,alt:null===t||void 0===t?void 0:t.title})}),Object(n.jsxs)("div",{className:X.a.inlineDiv+" "+X.a.movieInfo,children:[Object(n.jsx)("h3",{className:X.a.movieTitle,children:null===t||void 0===t?void 0:t.title}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:X.a.movieTagline,children:null===t||void 0===t?void 0:t.tagline}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:X.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Director:"})," ",null===t||void 0===t?void 0:t.director]}),Object(n.jsxs)("div",{className:X.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Released:"})," ",null===t||void 0===t?void 0:t.released.substr(0,10)]}),Object(n.jsxs)("div",{className:X.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Runtime:"})," ",null===t||void 0===t?void 0:t.runtime," min"]}),Object(n.jsxs)("div",{className:X.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Genre:"})," ",null===t||void 0===t?void 0:t.genre]}),Object(n.jsx)("div",{className:X.a.movieInfoPart,children:Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"Actors:"})," ",Object.values(null===t||void 0===t?void 0:t.actors).join(", ")]})}),Object(n.jsxs)("div",{className:X.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Country:"})," ",null===t||void 0===t?void 0:t.country]}),Object(n.jsxs)("div",{className:X.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Language:"})," ",null===t||void 0===t?void 0:t.language]}),Object(n.jsxs)("div",{className:X.a.movieInfoPart,children:[Object(n.jsx)("strong",{children:"Awards:"})," ",null===t||void 0===t?void 0:t.awards]})]})]}),Object(n.jsxs)("div",{className:X.a.movieExtraInfo,children:[Object(n.jsxs)("div",{className:X.a.moviePlot,children:[Object(n.jsx)("h4",{children:"Plot"}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:null===t||void 0===t?void 0:t.plot}),Object(n.jsx)("hr",{})]}),Object(n.jsxs)("div",{className:X.a.movieRating,children:[Object(n.jsx)("strong",{children:"Rating:"})," ",null===t||void 0===t?void 0:t.rating]})]})]}),Object(n.jsx)("div",{className:X.a.editFormButtonWrapper,children:Object(n.jsx)(J.a,{variant:"outlined",onClick:i,size:"small",children:"Edit"})})]})},le=function(e){var t=e.movieInfo,i=Object(o.useState)(!1),r=Object(I.a)(i,2),c=r[0],a=r[1];return t?Object(n.jsx)("div",{children:c?Object(n.jsx)(ae,{movieInfo:t}):Object(n.jsx)(se,{movieInfo:t,goToEditMode:function(){a(!0)}})}):Object(n.jsx)(F,{})},ve=i(49),je="SET_MOVIE_INFO",de={movieInfo:null},me=function(e){return function(){var t=Object(D.a)(S.a.mark((function t(i){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:n=t.sent,i((o=n.data,{type:je,movieInfo:o}));case 4:case"end":return t.stop()}var o}),t)})));return function(e){return t.apply(this,arguments)}}()},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(W.a)(Object(W.a)({},e),{},{movieInfo:t.movieInfo});default:return e}},be=function(e){Object(x.a)(i,e);var t=Object(_.a)(i);function i(){return Object(f.a)(this,i),t.apply(this,arguments)}return Object(p.a)(i,[{key:"refreshMovieInfo",value:function(){var e=this.props.match.params.movieId;this.props.getMovieInfo(e)}},{key:"componentDidMount",value:function(){this.refreshMovieInfo()}},{key:"componentDidUpdate",value:function(e,t,i){this.props.match.params.movieId!==e.match.params.movieId&&this.refreshMovieInfo()}},{key:"render",value:function(){return Object(n.jsx)(le,Object(W.a)(Object(W.a)({},this.props),{},{movieInfo:this.props.movieInfo,movieId:this.props.match.params.movieId}))}}]),i}(r.a.Component),he=Object(H.d)(Object(g.b)((function(e){return{movieInfo:e.movieInfoPage.movieInfo}}),{getMovieInfo:me,saveMovieInfo:function(e){return function(){var t=Object(D.a)(S.a.mark((function t(i,n){var o;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n().auth.movieId,t.next=3,V(e);case 3:200===t.sent.status?i(me(o)):i(Object(ve.a)("edit-movie-info",{_error:"Error!"}));case 5:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()}}),u.g)(be),Oe=i(96),fe=i.n(Oe),pe=function(e){var t=e.movies;return t?Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:fe.a.topMoviesHeader,children:"Top Movies"}),Object(n.jsx)("div",{children:t.sort((function(e,t){return t.rating.localeCompare(e.rating)})).slice(0,10).map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsx)("hr",{}),Object(n.jsxs)("h2",{className:fe.a.topMovieNumber,children:[++t," \xa0"]}),Object(n.jsx)(C,{movie:e},e.id),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})}))})]}):Object(n.jsx)(F,{})},xe=function(e){Object(x.a)(i,e);var t=Object(_.a)(i);function i(){return Object(f.a)(this,i),t.apply(this,arguments)}return Object(p.a)(i,[{key:"componentDidMount",value:function(){this.props.requestMovies()}},{key:"render",value:function(){return Object(n.jsx)(pe,{movies:this.props.movies})}}]),i}(r.a.Component),_e=Object(H.d)(Object(g.b)((function(e){return{movies:e.moviesPage.movies}}),{requestMovies:z}),u.g)(xe),ge=function(){return Object(n.jsxs)("div",{className:l.a.mainWrapper,children:[Object(n.jsx)(O,{}),Object(n.jsxs)("div",{className:l.a.mainWindow,children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:l.a.content,children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{path:"/movieInfo/:movieId?",render:function(){return Object(n.jsx)(he,{})}}),Object(n.jsx)(u.b,{path:"/movies",render:function(){return Object(n.jsx)(Q,{})}}),Object(n.jsx)(u.b,{path:"/top",render:function(){return Object(n.jsx)(_e,{})}}),Object(n.jsx)(u.b,{path:"/about",render:function(){return Object(n.jsx)("div",{children:"About"})}}),Object(n.jsx)(u.a,{to:"/movies"})]})})]})]})},Ie=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,305)).then((function(t){var i=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;i(e),n(e),o(e),r(e),c(e)}))},Me=i(137),Ne=i(129),Ce=Object(H.c)({moviesPage:q,movieInfoPage:ue,form:Ne.a}),Le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,we=Object(H.e)(Ce,Le(Object(H.a)(Me.a)));window.store=we;var Pe=we;a.a.render(Object(n.jsx)(v.a,{basename:"/movie-react",children:Object(n.jsx)(g.a,{store:Pe,children:Object(n.jsx)(ge,{})})}),document.getElementById("root")),Ie()},45:function(e,t,i){e.exports={navbarBox:"Navbar_navbarBox__2_1lk",navbarMenu:"Navbar_navbarMenu__1MHj3",activeLink:"Navbar_activeLink__32eUv"}},71:function(e,t,i){e.exports={mainWrapper:"App_mainWrapper__3vGQr",mainWindow:"App_mainWindow__1KOgQ",content:"App_content__22FzA"}},9:function(e,t,i){e.exports={formControl:"FormControls_formControl__vxn1s",error:"FormControls_error__3UxRr",formSummeryError:"FormControls_formSummeryError__2e1wC",formWrapper:"FormControls_formWrapper__3rHhL",rightFormBlock:"FormControls_rightFormBlock__3Tgzn",secondFormBlock:"FormControls_secondFormBlock__29kjB",thirdFormBlock:"FormControls_thirdFormBlock__R-tMl",genre:"FormControls_genre__3dlqP",formPartMargin:"FormControls_formPartMargin__1GYqZ",plotAwards:"FormControls_plotAwards__3m31M",countryLanguage:"FormControls_countryLanguage__3VUlY",input:"FormControls_input__2jiaz",fieldStyle:"FormControls_fieldStyle__1OTwR",textarea:"FormControls_textarea__1aley",formMoviePicture:"FormControls_formMoviePicture__3ozZV",inlineDiv:"FormControls_inlineDiv__69XJA",formMovieInfoBlock:"FormControls_formMovieInfoBlock__25gfc",buttonWrapper:"FormControls_buttonWrapper__3bqIe"}},91:function(e,t,i){e.exports={logoBox:"Logo_logoBox__1wuyY",logo:"Logo_logo__1vKFC"}},93:function(e,t,i){e.exports={searchInput:"Movies_searchInput__31zhR"}},96:function(e,t,i){e.exports={topMoviesHeader:"TopTenMovies_topMoviesHeader__GVHIt",topMovieNumber:"TopTenMovies_topMovieNumber__2QXGV"}}},[[291,1,2]]]);
//# sourceMappingURL=main.479a66e5.chunk.js.map